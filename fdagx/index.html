---
layout: gxdefault
---

<section class="content">

	<!-- Header -->
	<header id="top" class="gxheader">   
		<div class="text-vertical-center">
			<h1>Generic Drug Launch Prediction</h1>
			<p class="lead">
				<br> 
				8 out of every 10 prescriptions filled are for generic drugs. In addition, generics are			<br>
				more profitable than their brand name counterparts. This makes them attractive targets	<br>
				to determine whether predictions can be made about their release dates. 		<br><br>

				
				Different aspects of generic drug releases have been modeled using the 
				<a href="http://www.fda.gov/Drugs/InformationOnDrugs/ucm142438.htm">FDA database</a>. 
				<br><br>

				<a href="#about" class="btn btn-dark btn-lg">&thinsp;<span class="glyphicon glyphicon-forward"></span></a>			  

			</p> 
		</div>
	</header>

	<section id="background" class="background">
		<div id="about" position="fixed" class="container">
		   <div class="row">
		   		<div class="col-md-1"> </div>
		      	<div class="col-md-6" style="font-size:50px;">
		         <strong>  Why Generic Drugs? </strong>
		      </div>
		   </div>
		</div>

		<div position:relative; width = "100%" height = "600px">

			<p> <b> <br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;

				# of FDA Approved Drugs From 2000 - 2015 
			</b></p>

		</div>

		<div height="400px", style="float:left">
			<div id="history">
				<svg style="height:400px"></svg>
			</div>
		</div>
		<div style="padding-left:750px" class="container-fluid">
			<div class="span3">
				<p class="lead">
				
				Brand name drugs are more expensive than their generic alternatives as pharmaceutical
				companies charge more to recoup the cost of drug development. As a result, generics tend to have
				a higher margin due to their decreased costs. <br><br>
				As a retail pharmacy or pharmaceutical distributor,
				knowing when a generic drug will launch can have multiple implications on revenue: <br><br>
							
				<span class="glyphicon glyphicon-check"></span> More accurate month-to-month sales forecasts <br>
				<span class="glyphicon glyphicon-check"></span> First to negotiate on price with suppliers or customers <br>
				<span class="glyphicon glyphicon-check"></span> Better preparation for drug distribution <br>

				</p>

			<center><a href="#fdadb" class="btn btn-dark btn-lg">&thinsp;<span class="glyphicon glyphicon-forward"></span> &thinsp; Next</a></center>

			</div>

		</div>

		<script> 

			function formatDate(num) {
				// Hack because something went wrong with the epoch date conversion
				var date = new Date(num+36000000)
				var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun",
				  "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"
				];				
				var str = monthNames[(date.getMonth())] + " " + date.getFullYear()
          		return (str) 
			} 

			d3.json('drugcounthistory_line.json',function(data) {
				nv.addGraph(function() {
					var chart = nv.models.lineChart()
	                .useInteractiveGuideline(true)  //We want nice looking tooltips and a guideline!
	                .margin({right: 50})  //Adjust chart margins to give the x-axis some breathing room.
	                .transitionDuration(350)  //how fast do you want the lines to transition?
	                .showLegend(true)       //Show the legend, allowing users to turn on/off line series.
	                .showYAxis(true)        //Show the y-axis
	                .showXAxis(true)        //Show the x-axis					;

	                var xticks = [1041422400000, 1136116800000, 1230811200000, 1325419200000, 1420113600000]

					chart.xAxis
					.tickFormat(function(d) { 
						return formatDate(d)
          			})
          			.tickValues(xticks)
					.axisLabel('Year');

					chart.yAxis
					.tickFormat(d3.format(',.1f'))
					.axisLabel('Number of Releases');

					d3.select('#history svg')
					.datum(data)
					.call(chart);

					nv.utils.windowResize(chart.update);

				  return chart;
				});
			});
		</script>

		<style>
		#history svg { width: 240%; height: 100%;}
		</style>

		<hr width="80%">


	</section>



	<section id="fdadb" class="fdadb ss-style-doubleline">	

		<div id="Databases" position="fixed" class="container">
		   <div class="row">
		   	<br>
				<div class="col-md-1"> </div>
		      	<div class="col-md-6" style="font-size:50px;">
		         	<strong> Databases </strong> 
		      </div>
		   </div>
		</div>

		<div class="row">
			<div class="col-md-9 col-md-offset-1">
				<h4>
					1. &emsp; The FDA provides an open <a href="fda.gov/Drugs/InformationOnDrugs/ucm142438.htm">drug directory</a> </center> which contains all current drugs that are on the market. 
				</h4>
			</div>
		</div>

		<div class="row">
			<div class="FDA-sample" data-example-id="hoverable-table">
				<div class="col-md-9 col-md-offset-1">
					<table class="table table-hover table-condensed" style="font-size:14px;font-family:Courier New">
					  <thead>
					    <tr></tr>
					    <tr>
					      <th>NDC</th>
					      <th>Brand/Bx Name </th>
					      <th>Generic/Gx Name  </th>
					      <th>Dosage Form</th>
					      <th>Route Name</th>
					      <th>FDA Market Date</th>
					      <th>Appl #</th>
					      <th>Supplier</th>
					      <th>Est Pharm Class</th>
					    </tr>
					  </thead>
					  <tbody>
					    <tr>
					      <td>54868-5831</td>
					      <td>Precose</td>
					      <td>Acarbose</td>
					      <td>Tablet</td>
					      <td>Oral</td>
					      <td>2007-11-19</td>
					      <td>NDA020482</td>
					      <td>Physicians Total</td>
					      <td>Alpha Glucosidase Inhibitor</td>
					    </tr>
					    <tr>
					      <td>16252-524</td>
					      <td>Acarbose</td>
					      <td>Acarbose</td>
					      <td>Tablet</td>
					      <td>Oral</td>
					      <td>2008-05-07</td>
					      <td>ANDA077532</td>
					      <td>Actavis Pharma</td>
					      <td>Glucosidase Inhibitor</td>
					    </tr>
					  </tbody>
					</table>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-md-9 col-md-offset-1">
				<h4>
				2. &emsp; Each year, the FDA releases an <a href="http://www.accessdata.fda.gov/scripts/cder/ob/eclink.cfm">Orange Book of Therapeutic Equivalences</a> that identifies drug products and their degrees of therapeutic equivalence. Products that meet necessary bioequivalent requirements as determined by the FDA are given the code "AB".</h3>
			</div>
		</div>

		<div class="row">
			
			<div class="col-md-1"></div>
			<div class="col-md-9">
				<center><img src="../img/LKLJUia.png" alt="Orange Book"><br><br></center>
				<center><a href="#sqlquery" class="btn btn-dark btn-lg">&thinsp;<span class="glyphicon glyphicon-forward"></span> &nbsp; Next</a></center>
			</div>

		</div>

	</section>

	<section id="sqlquery">

		<div position="fixed" class="container">
		   <div class="row">
				<div class="col-md-1"> </div>
		      	<div class="col-md-9" style="font-size:45px;">
		      		<br>
		         	<strong> PSQL to Extract Brand and Generic Pairs </strong> 
		      </div>
		   </div>
		</div>


		<div class="row">
			<div class="col-md-9 col-md-offset-1">
				<p class="lead">
					<br>
					With a bit of parsing in python, the FDA database can be loaded into PSQL. Since this table is 90,000 rows, tables for brand (NDA) drugs and generic (ANDA) drugs have been created to make our SQL queries look cleaner. We use distinct to toss out any duplicates and always take the earliest release of a drug.
					<br><br>
					We can also parse the <a href="http://www.fda.gov/downloads/Drugs/DevelopmentApprovalProcess/UCM071436.pdf">Orange Book of Bioequivalence</a>, which contains all drugs that are established equivalents of each other. All application numbers and drug names that are listed as "AB" have been extracted into a CSV. 
				</p>
			</div>
		</div>
		<div class="row">
			<div class="col-md-5 col-md-offset-2">
					<pre><code class="sql">
-- Table for the entire FDA drug directory.
CREATE TABLE ndcdir ( 
	prodid VARCHAR(47), 
	prodndc varchar(10),                 --National Drug Code
	prodtypename varchar(32), 
	proprietaryname varchar(256),        --Drug brand name
	proprietarynamesuffix varchar(128), 
	nonproprietaryname varchar(512),     --Drug generic name
	dosageform varchar(64),              --e.g. tablet, cream
	routename varchar(128),              --e.g. oral, patch
	startmktdate date,                   --FDA approval date
	endmktdate date,			
	mktcategoryname varchar(64), 
	appnum varchar(11),                  --Application number
	supplier varchar(120),               --Supplier name
	substancename varchar(4096), 
	activenumstr varchar(1024),          --Strength e.g. 5g,10mg
	activeingredunit varchar(4096), 
	pharmclass varchar(4096), 
	deaschedule varchar(4), 
	epc varchar(1024),                   --Established pharmaceutical class
	moa varchar(424)                     --Mechanism of action
);
					</code></pre>
			</div>
			<div class="col-md-3">
				<pre><code class="sql">
-- Table of all brand and generic drugs
CREATE TABLE fdadrugs AS
	SELECT DISTINCT ON(prodndc) * FROM ndcdir 
	WHERE (mktcategoryname IN ('ANDA', 'NDA', 'NDA AUTHORIZED GENERIC')) 
	ORDER BY prodndc, startmktdate;

-- Table of all brand name drugs
CREATE TABLE ndadrugs AS
	SELECT DISTINCT ON(prodndc) * FROM ndcdir 
	WHERE (mktcategoryname IN ('NDA')) 
	ORDER BY prodndc, startmktdate;

-- Table of all generic drugs
CREATE TABLE andadrugs AS
	SELECT DISTINCT ON(prodndc) * FROM ndcdir 
	WHERE (mktcategoryname LIKE 'ANDA' )  
	ORDER BY prodndc, startmktdate;

-- Table of all drugs that have an established 
-- bioequivalent drug.
CREATE TABLE fdandapairs ( 
	appnum varchar(10), 
	drug varchar(128)
)	

				</code></pre>
			</div>
		</div>


		<div class="row">
			<div class="col-md-7 col-md-offset-2">
				<p class="lead">
					<br>
					&emsp;The first step is to match up the drugs which have established bioequivalents (FDANDAPAIRS) with the FDA drug directory (NDCDIR).
				</p>
			</div>
		</div>

		<div class="row">
			<div class="col-md-4 col-md-offset-3">
				<pre><code class="sql">

CREATE TABLE bxgxmatch_fda AS
  SELECT * FROM
    ( SELECT fdadrugs.*, fdandapairs.drug 
    FROM fdandapairs
    INNER JOIN
    fdadrugs
    ON fdadrugs.appnum LIKE fdandapairs.appnum ) AS drugmatch
ORDER BY drug,startmktdate;

				</code></pre>
			</div>
		</div>
		<div class="row">
			<div class="col-md-7 col-md-offset-2">


				<p class="lead">
					<br>
					&emsp;We can then extract the first release of a brand name drug and the first release of a generic drug and join them on the drug name. This allows us to pair up the brand name drugs to their generic name counterparts.

				</p>				

				<pre><code class="sql">

CREATE TABLE bxgxdiff_fda AS
  SELECT *, gxdate - bxdate AS bxgxtime FROM 
    (SELECT DISTINCT ON (drug) SUBSTRING(UPPER(prodid),'.{36}$') AS gxprodid, 
      startmktdate AS gxdate, 
      nonproprietaryname AS gxname, 
      drug, 
      epc, 
      dosageform, 
      routename 
      FROM bxgxmatch_fda 
      WHERE appnum LIKE 'ANDA%') AS firstanda
    JOIN
    SELECT DISTINCT ON (drug) SUBSTRING(UPPER(prodid),'.{36}$') AS bxprodid, 
      startmktdate AS bxdate, 
      proprietaryname AS bxname, drug AS ndadrug 
      FROM bxgxmatch_fda 
      WHERE appnum LIKE 'NDA%') AS firstnda
    ON firstanda.drug LIKE firstnda.ndadrug;

ALTER TABLE bxgxdiff_fda DROP COLUMN ndadrug;

-- The minimum exclusivity is 180 days. Remove anything that doesn't match that.
\copy (SELECT * FROM bxgxdiff_fda WHERE bxgxtime > 180) TO 'firstbxgxmatch_fdalist.csv' WITH CSV HEADER DELIMITER AS ',';

				</code></pre>
			</div>


			<div class="col-md-7 col-md-offset-2">

				<p class="lead">
					<br>
					&emsp;The results can be exported to a CSV file for modeling in Python.
					<br>

				</p>
			</div>
		</div>

		<center>
			<a href="#epcdose" class="btn btn-dark btn-lg">&thinsp;<span class="glyphicon glyphicon-forward"></span> &nbsp; Next</a>
		</center>

	</section>

	<section id="epcdose" class="epcdose">

		<div position="fixed" class="container">
		   <div class="row">
				<div class="col-md-1"> </div>
		      	<div class="col-md-9" style="font-size:45px;">
		      		<br>
		         	<strong> Predicting Brand-to-Generic Conversion </strong> 
		      </div>
		   </div>
		</div>
	
		<div height="400px", style="float:left">
			<div id="epcdose" style="padding-left:50px">     
				<svg style="height:600px"></svg>
				<br><br>
			</div>
		</div>


		<div style="padding-left:680px" class="container-fluid">
			<div class="col-md-1"></div>
			<div class="col-md-9">
				<center><a id="button_model" class="btn btn-lg btn-light" style="font-weight:bold"> 
					&thinsp;<span class="glyphicon glyphicon-list-alt"></span> &thinsp; Model
					</a>
					<a id="button_results" class="btn btn-lg"> 
					&thinsp;<span class="glyphicon glyphicon-list-alt"></span> &thinsp; Results
					</a>
					<a id="button_discussion" class="btn btn-lg"> 
					&thinsp;<span class="glyphicon glyphicon-list-alt"></span> &thinsp; Conclusions
					</a>										
				</center>

				<div class="span6" id="d1">

					<p class="lead">
					&emsp; The following features were used to predict the time for generic conversion:
											
					<br><br>
					<i class="fa fa-fw fa-check-circle-o"></i> &thinsp; FDA Market Date <br>
					<i class="fa fa-fw fa-check-circle-o"></i> &thinsp; Established pharmaceutical class (EPC) <br>
					<i class="fa fa-fw fa-check-circle-o"></i> &thinsp; Dosage form<br>

					<br>

					&emsp; To account for changes in FDA guidelines over time and any potential seasonality effects, the month and year were extracted from the date and used as two separate features. Words from the EPC and dosage form were vectorized, with each word used as a feature for modeling. <br><br>

					&emsp; All features were combined and fit to a Ridge regression using a leave-one-out cross-validation.

					</p>
				</div>

				<div class="span6" id="d2" style="display:none">

					<p class="lead">

						&emsp; The model appears to underpredict drugs that took fewer than 10 years for conversion and overpredict drugs that took more than 10 years for conversion. 

						<br><br>

						Statistics:

						<br><br>
						<i class="fa fa-angle-right"></i> &thinsp; R<sup>2</sup>: 0.829  <br>
	    				<i class="fa fa-angle-right"></i> &thinsp; RMSE: 2.00 years <br>
	    				<i class="fa fa-angle-right"></i> &thinsp; Abs Mean Err: 1.56 years <br>
	    				
	    				<br><br>

	    				&emsp; The RMSE of 2 years suggests that while there is some relationship between the date a brand name drug is released, its pharmaceutical class, and dosage form, it is not sufficient to explain the variance seen in generic conversion time.


					</p>			
				</div>

				<div class="span5" id="d3" style="display:none">

					<p class="lead">
						&emsp; This model provides a good starting point for predicting brand-to-generic conversion times. Future work includes incorporating additional features from other sources, including patent exclusivity periods, drug mechanism of action, and estimated market size. <br><br>
					</p>
				</div>		
			</div>	
		</div>

		<center><a href="#freq" class="btn btn-dark btn-lg">&thinsp;<span class="glyphicon glyphicon-forward"></span> &nbsp; Next </a></center>		
		<br><br>


		<script>
						
			$(document).ready(function(){
			    $("#button_model").click(function(){
			        $("#d1").fadeIn("slow");
			        $("#button_model").addClass("btn-light");
			        $("#d2").hide();
			        $("#d3").hide();
			        $("#button_results").removeClass("btn-light");
			        $("#button_discussion").removeClass("btn-light");

					$("#button_model").css('font-weight','bold');
			        $("#button_results").css('font-weight','normal');	
			        $("#button_discussion").css('font-weight','normal');			        

			    });
				$("#button_results").click(function(){
			        $("#d1").hide();
			        $("#d2").fadeIn("slow")
			        $("#button_results").addClass("btn-light");
			        
			        $("#d3").hide();
			        $("#button_model").removeClass("btn-light");
			        $("#button_discussion").removeClass("btn-light");

			        $("#button_model").css('font-weight','normal');
			        $("#button_results").css('font-weight','bold');
			        $("#button_discussion").css('font-weight','normal');
			    });
				$("#button_discussion").click(function(){
			        $("#d1").hide();
			        $("#d2").hide();
			        $("#d3").fadeIn("slow")
			        $("#button_discussion").addClass("btn-light");
			        $("#button_results").removeClass("btn-light");
			        $("#button_model").removeClass("btn-light");

					$("#button_model").css('font-weight','normal');
			        $("#button_results").css('font-weight','normal');	
			        $("#button_discussion").css('font-weight','bold');				        
			    });					    			    
			});


			d3.json('../data/epcdosemodel.json',function(data) {

	          nv.addGraph(function() {
	            var chart = nv.models.scatterPlusLineChart()
	                          .showDistX(true)    //showDist, when true, will display those little distribution lines on the axis.
	                          .showDistY(true)
	                          .margin({left: 100})  //Adjust chart margins to give the x-axis some breathing room.
	                          .transitionDuration(350)
	                          .forceY([-0.5,19])
	                          .forceX([-0.5,19])
	                          .showLegend(false)
	                          .color(d3.scale.category10().range());

	            //Configure how the tooltip looks.
	            chart.tooltipContent(function(key) {
	                var splitkey = key.split('; ')
	                return '<h4>' + splitkey[0] + '</h4>' + '<h4>' + splitkey[1] + '</h4>';
	            });

	            //Axis settings
	            chart.xAxis
	              .tickFormat(d3.format('1.f'))
	              .axisLabel('True: Years for Conversion');
	            chart.yAxis
	              .axisLabel('Predicted: Years for Conversion');
	            
	            console.log(d3.scale.category10().range())

	            d3.select('#epcdose svg')
	                .datum(data)
	                .call(chart);
					
				console.log(data)

	          
	            nv.utils.windowResize(chart.update);

	            return chart;

	          });

	        });
		</script>			

	    <style>
		    #epcdose svg { width: 220%; height: 100%;}
	    </style>   

	</section>

	<section id="freq" class="freq">

		<div id="frequency" position="fixed" class="container">
		   <div class="row">
				<div class="col-md-1"> </div>
		      	<div class="col-md-9" style="font-size:45px;">
		         	<strong> Generics Release Frequency </strong> 
		      </div>
		   </div>
		</div>		

		<div height="400px", style="float:left">
			<div id="releases" style="padding-left:50px">     
				<svg style="height:600px"></svg>
				<br><br>
			</div>
		</div>


		<div style="padding-left:810px" class="container-fluid">
			<div class="col-md-9">

				<center><a id="button_time" class="btn btn-lg btn-light" style="font-weight:bold"> 
					&thinsp;<span class="glyphicon glyphicon-list-alt"></span> &thinsp; Time-Series Study
					</a>
					<a id="button_fft" class="btn btn-lg"> 
					&thinsp;<span class="glyphicon glyphicon-list-alt"></span> &thinsp; Fourier Analysis
					</a>								
				</center>

				<div class="span6" id="d4">

					<h3> <strong> <center>Modeling Supplier Releases </center> </strong> </h3>

					<p class="lead">
					&emsp; We can analyze the magnitude and frequency of releases of drugs over time by using a fourier transform.
					<br><br>
											
					&emsp; To remove the "noise" of some smaller suppliers, only suppliers that had at least 50 unique ANDAs were included, and only data from 2009 to June 2015 was included in the frequency analysis. <br><br>

					</p>

				</div>

				<div class="span6" id="d5" style="display:none">

					<h3> <strong><center>Results</center></strong> </h3>

					<p class="lead">

						&emsp; The fourier transform reveals a dominant frequency at 52 days/cycle with a smaller harmonic frequency at 104 days/cycle. This suggests that approximately every 52 days, we can expect to see a "peak" in the time domain.

						<br><br>

	    				If we define a "large release" as "> 35 ANDAs" released on a single day (top 97.5% of all releases/day):

	    				<br>

	    				<i class="fa fa-angle-right"></i> &thinsp; There is a 23% chance of another large release 59-66 days after current large release <br>
	    				<i class="fa fa-angle-right"></i> &thinsp; This probability rises to 40% chance if looking 2-3 months after a current large release <br>

	    				<br>

	    				This frequency analysis suggests that monthly sales forecasts can be improved simply by looking at the history of previous releases.

					</p>
				
				</div>
			</div>
		</div>

		<script>

			makeThrehsoldChart('../data/releases09toCurr.json',1)
		
			$(document).ready(function(){
			    $("#button_time").click(function(){
			        $("#d4").fadeIn("slow");
			        $("#button_time").addClass("btn-light");
			        $("#d5").hide();
			        $("#d6").hide();
			        $("#button_fft").removeClass("btn-light");
			        makeThrehsoldChart('../data/releases09toCurr.json',1)

			        $("#button_time").css('font-weight','bold');
			        $("#button_fft").css('font-weight','normal');

			    });
				$("#button_fft").click(function(){
			        $("#d4").hide();
			        $("#d5").fadeIn("slow")
			        $("#button_fft").addClass("btn-light");
			        $("#d6").hide();
			        $("#button_time").removeClass("btn-light");

			        $("#button_fft").css('font-weight','bold');
			        $("#button_time").css('font-weight','normal');

			        makeThrehsoldChart('../data/frequency.json',2)
			    });			    			    
			});


			function makeThrehsoldChart(file,val) {
				d3.json(file,function(data) {
					nv.addGraph(function() {
						var chart = nv.models.lineChart()
						            .margin({left: 100, top: 100})  //Adjust chart margins to give the x-axis some breathing room.
						            .transitionDuration(350)  //how fast do you want the lines to transition?
						            .showLegend(true)       //Show the legend, allowing users to turn on/off line series.
						            .showYAxis(true)        //Show the y-axis
						            .showXAxis(true)        //Show the x-axis
						;

						console.log(file)
						console.log(val)

						if (val == 1) {
						    chart.xAxis //Chart x-axis settings
						        .axisLabel('Time (Years)')
						        .tickValues([2009, 2010, 2011, 2012, 2013, 2014, 2015])
						        .tickFormat(d3.format('.f'));
						    chart.yAxis //Chart y-axis settings
						        .axisLabel('Number Of Releases')
						        .tickFormat(d3.format('f'));
						    chart.tooltipContent(function(key, x, y) {
						        var datevar = dateFromDay(Math.round(x), parseInt((x - Math.round(x)) * 365))
						        var datestr = datevar.toString();
						        return '<h4> &emsp;' +  parseInt(y) + ' releases </h4><h4>  &emsp;on ' + datestr.substring(4, 15)  + '  &emsp; </h4>';
						    });
						} else {
						    chart.xAxis //Chart x-axis settings
						        .axisLabel('Frequency of Releases (Every N Days/Year)')
						        .tickFormat(d3.format('f'));
						    chart.yAxis //Chart y-axis settings
						        .axisLabel('Magnitude')
						        .tickFormat(d3.format('.02f'));
						}

					    d3.select('#releases svg') //Select the < svg > element you want to render the chart in .
					        .datum(data) //Populate the < svg > element with chart data...
					        .call(chart); //Finally, render the chart!						


					  //Update the chart when window resizes.
					  // nv.utils.windowResize(function() { chart.update() });
					  return chart;
					});
				})
			}		

			function dateFromDay(year, day){
		        var date = new Date(year, 0,1); // initialize a date in `year-01-01`
		        return new Date(date.setDate(day+1)); // add the number of days
		    }		
		</script>


		<style>
			#releases svg { width: 260%; height: 75%;}
		</style>			

		<center><a href="#pca" class="btn btn-dark btn-lg">&thinsp;<span class="glyphicon glyphicon-forward"></span> &nbsp; Next </a></center>		
		<br><br>

	</section>

	<section id="pca">

		<div id="pca_head" position="fixed" class="container">
		   <div class="row">
				<div class="col-md-1"> </div>
		      	<div class="col-md-9" style="font-size:45px;">
		         	<strong> Clustering Yearly Supply Releases </strong> 
		         	<br><br>
		      	</div>
		    </div>
		</div>

		<div class="row">

			<center><a id="button_pca1" class="btn btn-lg btn-light" style="font-weight:bold"> 
				&thinsp;<span class="glyphicon glyphicon-list-alt"></span> &thinsp; Matrix Factorization
				</a>
				<a id="button_pca2" class="btn btn-lg"> 
				&thinsp;<span class="glyphicon glyphicon-list-alt"></span> &thinsp; PCA Results
				</a>								
			</center>

			<div class="col-md-1 "> </div>
			<div class="col-md-6 "> 
				<br><br>
				<div class="PCA-components" id="d7table" data-example-id="hoverable-table" style="font-size:15px;font-family:Courier New">
			    	<table class="table table-hover table-condensed">
			        	<thead>
			          	<tr></tr>
			          	<tr>
				            <th> &emsp; </th>
				            <th>Jan</th>
				            <th>Feb</th>
				            <th>Mar</th>
				            <th>Apr</th>
				            <th>May</th>
				            <th>Jun</th>
				            <th>Jul</th>
				            <th>Aug</th>
				            <th>Sep</th>
				            <th>Oct</th>
				            <th>Nov</th>
				            <th>Dec</th>
			          	</tr>
			        </thead>
			        <tbody>
			          	<tr>
				            <td> 2011 Actavis Pharma </td>
				            <td>0</td>
				            <td>0</td>
				            <td>6</td>
				            <td>2</td>
				            <td>0</td>
				            <td>0</td>
				            <td>0</td>
				            <td>4</td>
				            <td>0</td>
				            <td>1</td>
				            <td>2</td>
				            <td>2</td>
			          	</tr>
			          	<tr>
				            <td> 2012 Actavis Pharma </td>
				            <td>0</td>
				            <td>0</td>
				            <td>0</td>
				            <td>0</td>
				            <td>0</td>
				            <td>0</td>
				            <td>0</td>
				            <td>0</td>
				            <td>0</td>
				            <td>4</td>
				            <td>3</td>
				            <td>6</td>
			          	</tr>
			          	<tr>
				            <td> 2013 Actavis Pharma </td>
				            <td>2</td>
				            <td>0</td>
				            <td>7</td>
				            <td>4</td>
				            <td>0</td>
				            <td>0</td>
				            <td>3</td>
				            <td>0</td>
				            <td>0</td>
				            <td>0</td>
				            <td>0</td>
				            <td>3</td>
				        </tr>
				        <tr>
				            <td> 2014 Actavis Pharma </td>
				            <td>3</td>
				            <td>9</td>
				            <td>5</td>
				            <td>0</td>
				            <td>3</td>
				            <td>7</td>
				            <td>0</td>
				            <td>0</td>
				            <td>4</td>
				            <td>2</td>
				            <td>4</td>
				            <td>5</td>
			         	</tr>
			        </tbody>
			      </table>
				</div>		

				<div id="d8table" style="display:none">
					<center><h4>Top Component: &sigma;<sup>2</sup> = 0.52 </h4></center>
					<div class="PCA-components1" data-example-id="hoverable-table" style="font-size:10px;font-family:Courier New">
						<table class="table table-hover table-condensed">
							<thead>
								<tr></tr>
								<tr>
									<th>Jan</th>
									<th>Feb</th>
									<th>Mar</th>
									<th>Apr</th>
									<th>May</th>
									<th>Jun</th>
									<th>Jul</th>
									<th>Aug</th>
									<th>Sep</th>
									<th>Oct</th>
									<th>Nov</th>
									<th>Dec</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td class="span1"><strong>0.925</strong></td>
									<td class="span1">-0.08</td>
									<td class="span1">-0.16</td>
									<td class="span1">-0.07</td>
									<td class="span1">-0.29</td>
									<td class="span1">-0.11</td>
									<td class="span1">-0.08</td>
									<td class="span1">-0.03</td>
									<td class="span1" class="span1">-0.05</td>
									<td class="span1">-0.03</td>
									<td class="span1" class="span1">0.003</td>
									<td class="span1">-0.03</td>
								</tr>
							</tbody>
						</table>
					</div>
					<center>
						<h4> Top Weights </h4> <br>
					<center>
					<div class="PCA-components2" data-example-id="hoverable-table" style="font-size:15px;font-family:Courier New">
						<table class="table table-hover table-condensed">
							<thead>
								<tr></tr>
								<tr>
									<th> Supplier (Abbv) </th>
									<th>Jan</th>
									<th>Feb</th>
									<th>Mar</th>
									<th>Apr</th>
									<th>May</th>
									<th>Jun</th>
									<th>Jul</th>
									<th>Aug</th>
									<th>Sep</th>
									<th>Oct</th>
									<th>Nov</th>
									<th>Dec</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td> 2014 DIRECT RX </td>
									<td>255</td>
									<td>0</td>
									<td>0</td>
									<td>0</td>
									<td>0</td>
									<td>0</td>
									<td>0</td>
									<td>0</td>
									<td>0</td>
									<td>0</td>
									<td>0</td>
									<td>0</td>
								</tr>
								<tr>
									<td> 2013 STATE FLORIDA </td>
									<td>95</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 1</td>
									<td> 0</td>
									<td> 0</td>
									<td>1</td>
								</tr>
								<tr>
									<td> 2014 STATE FLORIDA </td>
									<td>57</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 1</td>
									<td>50</td>
									<td> 0</td>
								</tr>
								<tr>
									<td> 2012 PREFERRED PHARMACEUTICALS </td>
									<td>56</td>
									<td>26</td>
									<td>25</td>
									<td>24</td>
									<td> 3</td>
									<td> 8</td>
									<td>17</td>
									<td> 3</td>
									<td> 4</td>
									<td> 6</td>
									<td> 5</td>
									<td> 4</td>
								</tr>
								<tr>
									<td> 2011 CARDINAL HEALTH </td>
									<td>40</td>
									<td>15</td>
									<td> 9</td>
									<td> 8</td>
									<td>41</td>
									<td>36</td>
									<td>22</td>
									<td>23</td>
									<td> 6</td>
									<td>14</td>
									<td>11</td>
									<td> 1</td>
								</tr>
								<tr>
									<td> 2011 CAMBER PHARMACEUTICALS </td>
									<td>21</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td>11</td>
									<td> 3</td>
								</tr>
								<tr>
									<td> 2013 AVKARE</td>
									<td>26</td>
									<td> 9</td>
									<td> 5</td>
									<td> 0</td>
									<td> 5</td>
									<td> 8</td>
									<td> 3</td>
									<td> 5</td>
									<td>13</td>
									<td> 8</td>
									<td> 3</td>
									<td>10</td>
								</tr>
								<tr>
									<td> 2013 MCKESSON CONTRACT </td>
									<td>14</td>
									<td> 5</td>
									<td> 2</td>
									<td> 1</td>
									<td> 0</td>
									<td> 0</td>
									<td> 0</td>
									<td> 1</td>
									<td> 2</td>
									<td> 2</td>
									<td> 0</td>
									<td> 0</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>

			</div>
		    <div class="col-md-4">
		    	<div id="d7">
			    	<p class="lead"> 

			    		By extracting the number of unique ANDAs released monthly by suppliers, we can also evaluate 
			    		supplier release frequency using matrix factorization. We can designate each month as a separate
			    		dimension and use PCA to determine whether any suppliers follow any monthly release patterns

			    		<br><br>

			    		SQL Filters: <br>
			    		&emsp; <i class="fa fa-filter"></i> Year Range: 2011 - 2014 <br>
		    			&emsp; <i class="fa fa-filter"></i> Suppliers must have at least 50 releases

			    	</p>


			    </div>

				<div id="d8" style="display:none">

			    	<p class="lead"> 

			    		<br><br>
			    		The variance states that the first component explains over half of the spread seen in the data. The first component that shows a large weight
			    		for January states that a large number of suppliers have major releases in January. 

			    		<br><br>
			    		The supplier and their respective years with the highest weight can be determined by inverting the component matrix and multiplying it by each
			    		feature vector. By doing this, we can see that the suppliers with the top weights do experience significantly higher volumes of releases in 
			    		January compared to other months.

			    		<br><br>
			    		However, it should be noted that some of these suppliers are simply re-packagers which explains extraordinary large number of releases
			    		in the month of January. 

			    	</p>

			    </div>
			</div>
		</div>	

		<div class="row"> 

			<br><br>
			<center><a href="#fin" class="btn btn-dark btn-lg">&thinsp;<span class="glyphicon glyphicon-forward"></span> &nbsp; Next </a></center>		
			<br><br>			

		</div>

		<script>

			$(document).ready(function(){
			    $("#button_pca1").click(function(){
			        $("#d7").fadeIn("slow");
			        $("#d7table").fadeIn("slow");
			        $("#d8").hide();
			        $("#d8table").hide();

			        $("#button_pca1").addClass("btn-light");			        
			        $("#button_pca2").removeClass("btn-light");

			        $("#button_pca1").css('font-weight','bold');
			        $("#button_pca2").css('font-weight','normal');

			    });
				$("#button_pca2").click(function(){
			        $("#d7").hide();
			        $("#d7table").hide();
			        $("#d8").fadeIn("slow");
			        $("#d8table").fadeIn("slow");

			        $("#button_pca2").addClass("btn-light");
			        $("#button_pca1").removeClass("btn-light");

			        $("#button_pca2").css('font-weight','bold');
			        $("#button_pca1").css('font-weight','normal');

			    });			    			    
			});		

		</script>



	</section>

	<section id="fin" class="fin">

		<div id="fin_head" position="fixed" class="container">
		   <div class="row">
				<div class="col-md-1"> </div>
		      	<div class="col-md-9" style="font-size:45px;">
		      		<br>
		         	<strong> Project Conclusions </strong> 
		         	<br>
		      	</div>
		    </div>

		    <div class="row">
				<p class="lead">
					<br>
					Using publicly available data, predicting brand-to-generic conversion is possible to within 2 years. However, this model can be vastly improved by scraping other information, especially exclusivity periods, which are known when new brand name drugs are released. 
					<br><br>
					In addition, time-series analysis can be performed by using a fourier transform to evaluate release frequency or with matrix factorization to evaluate seasonality. Patterns extracted from these results can be used to better predict monthly sales for improved stock forecasting.
					<br><br><br><br><br>

				</p> 		      	
		   </div>
		</div>		

	</section>


    <section id="contact" class="bg-dark">
        <div class="container">
            <br><br><br><br><br>
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1 text-center">
                    <h4><strong>Contact</strong>
                    </h4>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 col-md-offset-5">
                    
                        <span class="glyphicon glyphicon-phone"></span> &emsp; (650) 397 1526<br>
                        <span class="glyphicon glyphicon-inbox"></span> &emsp; <a href="mailto:ayplam@gmail.com">ayplam@gmail.com</a>
                        
                    
                    <br><br><br><br><br>
                    <br>
                </div>
            </div>
        </div>
    </section>	

</section>
