
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Generic Drug Predictions</title>

	<!-- Little icon at top -->
	<link rel="shortcut icon" href="/static/Banzaitokyo-Medico-Caduceus.ico">
		
	<!-- Bootstrap core CSS -->
	<link rel="stylesheet" type="text/css" href="/css/theme.css">
	<link rel="stylesheet" type="text/css" href="/css/bootstrap-theme.min.css">
	<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="/css/nv.d3.css">
	<link rel="stylesheet" type="text/css" href="/css/styles.css">	  
  
	<script type="text/javascript" src="/js/bootstrap.js"> </script>
	<script type="text/javascript" src="/js/d3.v3.js"> </script>
	<script type="text/javascript" src="/js/nv.d3.js"> </script>
	<script type="text/javascript" src="/js/underscore.js"> </script>

  </head>

  <body role = "document">

    <nav class="navbar navbar-inverse navbar-fixed-top">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="localhost:5000">The Data Incubator</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                <li><a href="/">Home</a></li>
                <li><a href="/background">Background</a></li>
                <li class="dropdown active">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Gx Drug Models <span class="caret"></span></a>
                  <ul class="dropdown-menu">
                    <li><a href="/epcdose">Release vs. EPC</a></li>
                    <li class="active"><a href="/freq">Frequency Analysis</a></li>
                  </ul>
                </li>
                <li><a href="/presentation">Presentation</a></li>
                <li><a href="/contact">Contact</a></li>
              </ul>
            </div><!--/.nav-collapse -->
          </div>
        </nav>

    <div class="container theme-showcase" role="main">


      <div id="chart">
      <h3> Number of Launches: 2009 - Current </h3>
      <left>
        <svg style="height:415px"></svg>
          <br><br>
      </left>


      <div id="chart2">


      <h3> Fourier Transform: Frequency Analysis </h3>
      <left>
        <svg style="height:415px"></svg>
      </left>



      </div>

    </div><!-- /.container -->


    <script>

    /*These lines are all chart setup.  Pick and choose which chart features you want to utilize. */
nv.addGraph(function() {
  var chart = nv.models.lineChart()
                .margin({left: 100})  //Adjust chart margins to give the x-axis some breathing room.
                .useInteractiveGuideline(true)  //We want nice looking tooltips and a guideline!
                .transitionDuration(350)  //how fast do you want the lines to transition?
                .showLegend(false)       //Show the legend, allowing users to turn on/off line series.
                .showYAxis(true)        //Show the y-axis
                .showXAxis(true)        //Show the x-axis
  ;

  chart.xAxis     //Chart x-axis settings
      .axisLabel('Time (Years)')
      .tickValues([2009,2010,2011,2012,2013,2014,2015])
      .tickFormat(d3.format('f'));

  chart.yAxis     //Chart y-axis settings
      .axisLabel('Number Of Releases')
      .tickFormat(d3.format('.02f'));

  d3.select('#chart svg')    //Select the <svg> element you want to render the chart in.
      .datum(getReleaseData())         //Populate the <svg> element with chart data...
      .call(chart);          //Finally, render the chart!


  //Update the chart when window resizes.
  nv.utils.windowResize(function() { chart.update() });
  return chart;
});

nv.addGraph(function() {
  var chart = nv.models.lineChart()
                .margin({left: 100})  //Adjust chart margins to give the x-axis some breathing room.
                .useInteractiveGuideline(true)  //We want nice looking tooltips and a guideline!
                .transitionDuration(350)  //how fast do you want the lines to transition?
                .showLegend(false)       //Show the legend, allowing users to turn on/off line series.
                .showYAxis(true)        //Show the y-axis
                .showXAxis(true)        //Show the x-axis
                .forceY([0,6000])
  ;

  chart.xAxis     //Chart x-axis settings
      .axisLabel('Frequency of Releases')
      .tickFormat(d3.format('f'));

  chart.yAxis     //Chart y-axis settings
      .axisLabel('Magnitude')
      .tickFormat(d3.format('.02f'));

  d3.select('#chart2 svg')    //Select the <svg> element you want to render the chart in.
      .datum(getFrequencyData())         //Populate the <svg> element with chart data...
      .call(chart);          //Finally, render the chart!

  console.log(getFrequencyData())


  //Update the chart when window resizes.
  nv.utils.windowResize(function() { chart.update() });
  return chart;
});



/**************************************
 * Simple test data generator
 */


  function getReleaseData() {
    var input = '{{ releases }}'
    input = input.replace(/&#34;/g,'"')
    data_obj = JSON.parse(input)

    return data_obj
  }


  function getFrequencyData() {
    var input = '{{ freq }}'
    input = input.replace(/&#34;/g,'"')
    data_obj = JSON.parse(input)

    return data_obj
  }

</script>


    <style>
    #chart svg { width: 80%; height: 80%;}
    </style>


    <style>
    #chart2 svg { width: 80%; height: 80%;}
    </style>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

	<script type="text/javascript" src="/js/jquery.min.js"> </script>
	<script type="text/javascript" src="/js/bootstrap.min.js"> </script>

    
    
  </body>
</html>
